<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HanaGo Travel èŠ±èªæ—…éŠ - æ—¥æœ¬æ«»èŠ±ä¹‹æ—…å°ˆå®¶</title>
    
    <!-- SEO å„ªåŒ– -->
    <meta name="description" content="HanaGo Travel èŠ±èªæ—…éŠ - å°ˆæ¥­æ—¥æœ¬æ«»èŠ±ä¹‹æ—…ï¼Œ7å¤©è¡Œç¨‹åŒ…å«æ±äº¬äº¬éƒ½å¥ˆè‰¯ï¼Œæ—©é³¥å„ªæƒ åƒ¹NT$28,000ã€‚24å°æ™‚å®¢æœï¼Œå°ˆæ¥­å°éŠå¸¶é ˜ã€‚">
    <meta name="keywords" content="æ—¥æœ¬æ—…éŠ,æ«»èŠ±å­£,æ±äº¬,äº¬éƒ½,å¥ˆè‰¯,æ—…è¡Œç¤¾,æ—¥æœ¬è‡ªç”±è¡Œ,è³æ«»">
    <meta name="author" content="HanaGo Travel">
    
    <!-- Open Graph -->
    <meta property="og:title" content="HanaGo Travel èŠ±èªæ—…éŠ - æ—¥æœ¬æ«»èŠ±ä¹‹æ—…">
    <meta property="og:description" content="èˆ‡æˆ‘å€‘ä¸€èµ·é–‹å•Ÿå¤¢å¹»çš„æ—¥æœ¬ä¹‹æ—…ï¼Œæ„Ÿå—æ«»èŠ±ç››é–‹çš„æµªæ¼«">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="zh_TW">
    
    <!-- é è¼‰å…¥é—œéµè³‡æº -->
    <link rel="preload" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjUiIGN5PSIyNSIgcj0iMjQiIGZpbGw9IiNmZjZiOWQiLz4KPHRleHQgeD0iNTAlIiB5PSI1NSUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPvCfjIg8L3RleHQ+Cjwvc3ZnPgo=" as="image">
    
    <!-- çµæ§‹åŒ–è³‡æ–™ -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "TravelAgency",
        "name": "HanaGo Travel èŠ±èªæ—…éŠ",
        "telephone": "+886-952-520-520",
        "address": {
            "@type": "PostalAddress",
            "addressCountry": "TW",
            "addressLocality": "å°åŒ—å¸‚"
        },
        "url": "#",
        "priceRange": "NT$28,000-38,000",
        "description": "å°ˆæ¥­æ—¥æœ¬æ«»èŠ±ä¹‹æ—…æ—…è¡Œç¤¾"
    }
    </script>

    <style>
        :root {
            --primary-color: #e91e63;
            --secondary-color: #ff6b9d;
            --accent-color: #ff9800;
            --text-color: #333;
            --bg-color: #ffeef8;
            --white: #ffffff;
            --gray-light: #f8f9fa;
            --gray: #e9ecef;
            --transition: all 0.3s ease;
            --border-radius: 10px;
            --shadow: 0 4px 15px rgba(0,0,0,0.1);
            --scroll-progress: 0%;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* é é¢æ»¾å‹•é€²åº¦æ¢ */
        html::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: var(--scroll-progress);
            height: 3px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            z-index: 1001;
            transition: width 0.1s ease;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: linear-gradient(135deg, var(--bg-color) 0%, #ffe5f0 100%);
            overflow-x: hidden;
        }

        /* è¼‰å…¥å‹•ç•« */
        .loading-spinner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .loading-spinner.show {
            opacity: 1;
            visibility: visible;
        }

        .spinner {
            font-size: 3rem;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* éŒ¯èª¤æç¤º */
        .error-message {
            background: #ff4757;
            color: white;
            padding: 1rem;
            border-radius: var(--border-radius);
            margin: 1rem 0;
            display: none;
            animation: slideDown 0.3s ease;
        }

        .success-message {
            background: #2ed573;
            color: white;
            padding: 1rem;
            border-radius: var(--border-radius);
            margin: 1rem 0;
            display: none;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Header - ç„¡éšœç¤™æ”¹å–„ */
        header {
            background: linear-gradient(135deg, var(--secondary-color) 0%, var(--primary-color) 100%);
            color: white;
            padding: 0.8rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 20px rgba(233, 30, 99, 0.3);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            flex-shrink: 0;
        }
        
        .logo-img {
            height: 50px;
            width: 50px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);
            background: var(--secondary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .logo-text {
            font-size: clamp(1.2rem, 4vw, 2rem);
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            white-space: nowrap;
        }

        .slogan {
            font-size: clamp(0.7rem, 2vw, 0.9rem);
            opacity: 0.9;
            margin-top: 0.2rem;
        }

        /* æ”¹å–„çš„æ¼¢å ¡é¸å–® */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        .menu-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .menu-toggle:focus {
            outline: 2px solid white;
            outline-offset: 2px;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: clamp(0.9rem, 2vw, 1rem);
            position: relative;
        }

        nav a:hover, nav a:focus {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            outline: none;
        }

        /* Hero Section - æ”¹å–„å‹•ç•« */
        .hero {
            background: linear-gradient(rgba(255, 107, 157, 0.8), rgba(233, 30, 99, 0.8)), 
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><defs><pattern id="sakura" x="0" y="0" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="3" fill="%23ffb3d1" opacity="0.6"/></pattern></defs><rect width="1200" height="600" fill="url(%23sakura)"/></svg>');
            min-height: 70vh;
            height: clamp(400px, 80vh, 800px);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
            padding: 2rem 1rem;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="%23ff9ac7" opacity="0.4"><animate attributeName="cy" values="20;80;20" dur="3s" repeatCount="indefinite"/></circle><circle cx="50" cy="40" r="1.5" fill="%23ffc4dd" opacity="0.6"><animate attributeName="cy" values="40;90;40" dur="4s" repeatCount="indefinite"/></circle><circle cx="80" cy="30" r="2.5" fill="%23ff6b9d" opacity="0.3"><animate attributeName="cy" values="30;85;30" dur="5s" repeatCount="indefinite"/></circle></svg>') repeat;
            animation: float 10s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .hero-content {
            z-index: 2;
            position: relative;
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: clamp(2.5rem, 8vw, 4rem);
            margin-bottom: 1rem;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            animation: fadeInUp 1s ease-out;
        }

        .hero p {
            font-size: clamp(1.1rem, 4vw, 1.5rem);
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease-out 0.3s both;
            line-height: 1.4;
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(45deg, var(--accent-color), #ff5722);
            color: white;
            padding: clamp(0.8rem, 3vw, 1rem) clamp(1.5rem, 5vw, 2rem);
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: clamp(1rem, 3vw, 1.1rem);
            transition: var(--transition);
            box-shadow: 0 8px 25px rgba(255, 152, 0, 0.4);
            animation: fadeInUp 1s ease-out 0.6s both;
            position: relative;
            overflow: hidden;
        }

        .cta-button:hover, .cta-button:focus {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(255, 152, 0, 0.6);
            outline: none;
        }

        .cta-button:focus {
            box-shadow: 0 12px 35px rgba(255, 152, 0, 0.6), 0 0 0 3px rgba(255, 255, 255, 0.5);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Sections - èªç¾©åŒ–æ”¹å–„ */
        section {
            padding: clamp(2rem, 6vw, 4rem) 0;
        }

        .section-title {
            text-align: center;
            font-size: clamp(2rem, 6vw, 2.5rem);
            margin-bottom: clamp(2rem, 5vw, 3rem);
            color: var(--primary-color);
            position: relative;
        }

        .section-title::after {
            content: 'ğŸŒ¸';
            display: block;
            font-size: clamp(1.2rem, 4vw, 1.5rem);
            margin-top: 0.5rem;
        }

        /* Tour Package - æ”¹å–„å¡ç‰‡è¨­è¨ˆ */
        .tour-package {
            background: var(--white);
            border-radius: 20px;
            padding: clamp(1.5rem, 4vw, 2rem);
            margin: clamp(1.5rem, 4vw, 2rem) 0;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .tour-package::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        }

        .tour-package:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .package-header {
            text-align: center;
            margin-bottom: clamp(1.5rem, 4vw, 2rem);
            background: transparent;
            border-radius: 0;
            padding: 0;
        }

        .package-title {
            font-size: clamp(1.5rem, 5vw, 2rem);
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        .package-price {
            font-size: clamp(1.2rem, 4vw, 1.5rem);
            color: var(--accent-color);
            font-weight: bold;
            line-height: 1.4;
        }

        .original-price {
            text-decoration: line-through;
            color: #999;
            font-size: clamp(1rem, 3vw, 1.2rem);
            margin-right: 1rem;
            display: inline-block;
        }

        .discount-badge {
            background: #2ed573;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-left: 0.5rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* è¡Œç¨‹å¡ç‰‡ - æ”¹å–„å¯è®€æ€§ */
        .itinerary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: clamp(1rem, 3vw, 1.5rem);
            margin: clamp(1.5rem, 4vw, 2rem) 0;
        }

        .day-card {
            background: linear-gradient(135deg, var(--gray-light) 0%, var(--gray) 100%);
            padding: clamp(1rem, 3vw, 1.5rem);
            border-radius: 15px;
            border-left: 4px solid var(--primary-color);
            transition: var(--transition);
            position: relative;
        }

        .day-card:hover {
            background: linear-gradient(135deg, var(--white) 0%, var(--gray-light) 100%);
            transform: scale(1.02);
            box-shadow: var(--shadow);
        }

        .day-number {
            font-weight: bold;
            color: var(--primary-color);
            font-size: clamp(1.1rem, 3vw, 1.2rem);
        }

        .day-theme {
            font-weight: bold;
            margin: 0.5rem 0;
            color: var(--text-color);
            font-size: clamp(1rem, 3vw, 1.1rem);
        }

        .day-description {
            color: #666;
            font-size: clamp(0.9rem, 2.5vw, 1rem);
            line-height: 1.4;
        }

        /* Interactive Features - æ”¹å–„äº¤äº’é«”é©— */
        .interactive-section {
            background: linear-gradient(135deg, var(--white) 0%, #f3e5f5 100%);
            padding: clamp(2rem, 5vw, 3rem) 0;
            border-radius: 30px;
            margin: clamp(1.5rem, 4vw, 2rem) 0;
        }

        .activity-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: clamp(1.5rem, 4vw, 2rem);
            margin-top: clamp(1.5rem, 4vw, 2rem);
        }

        .activity-card {
            background: var(--white);
            padding: clamp(1.5rem, 4vw, 2rem);
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(233, 30, 99, 0.1);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .activity-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: var(--transition);
        }

        .activity-card:hover::before {
            left: 100%;
        }

        .activity-card:hover, .activity-card:focus {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 15px 35px rgba(233, 30, 99, 0.2);
            outline: none;
        }

        .activity-card:focus {
            box-shadow: 0 15px 35px rgba(233, 30, 99, 0.2), 0 0 0 3px var(--secondary-color);
        }

        .activity-icon {
            font-size: clamp(2.5rem, 6vw, 3rem);
            margin-bottom: 1rem;
        }

        .activity-card h3 {
            font-size: clamp(1.1rem, 3vw, 1.3rem);
            margin-bottom: 0.8rem;
            color: var(--primary-color);
        }

        .activity-card p {
            font-size: clamp(0.9rem, 2.5vw, 1rem);
            line-height: 1.5;
            color: #666;
        }

        /* Booking Form - æ”¹å–„è¡¨å–®é©—è­‰ */
        .booking-form {
            background: var(--white);
            border-radius: 20px;
            box-shadow: var(--shadow);
            margin: clamp(1.5rem, 4vw, 2rem) 0;
            overflow: hidden;
        }

        .booking-form form {
            padding: clamp(1.5rem, 4vw, 2rem);
        }

        .form-group {
            margin-bottom: clamp(1rem, 3vw, 1.5rem);
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: var(--primary-color);
            font-size: clamp(0.95rem, 2.5vw, 1rem);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: clamp(0.8rem, 2.5vw, 1rem);
            border: 2px solid var(--gray);
            border-radius: var(--border-radius);
            font-size: clamp(0.9rem, 2.5vw, 1rem);
            transition: var(--transition);
            background: var(--white);
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(233, 30, 99, 0.2);
        }

        .form-group input.error {
            border-color: #ff4757;
            background: #ffe0e0;
        }

        .form-group input.success {
            border-color: #2ed573;
            background: #e0ffe0;
        }

        .field-error {
            color: #ff4757;
            font-size: 0.8rem;
            margin-top: 0.25rem;
            display: none;
        }

        .submit-btn {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: clamp(0.8rem, 3vw, 1rem) clamp(1.5rem, 4vw, 2rem);
            border: none;
            border-radius: 50px;
            font-size: clamp(1rem, 3vw, 1.1rem);
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            position: relative;
            overflow: hidden;
        }

        .submit-btn:hover, .submit-btn:focus {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(233, 30, 99, 0.4);
            outline: none;
        }

        .submit-btn:focus {
            box-shadow: 0 8px 25px rgba(233, 30, 99, 0.4), 0 0 0 3px rgba(255, 255, 255, 0.5);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* Contact Info - æ”¹å–„è¯çµ¡è³‡è¨Š */
        .contact-info {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: clamp(2rem, 5vw, 3rem) 0;
            border-radius: 20px;
            margin: clamp(1.5rem, 4vw, 2rem) 0;
        }

        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: clamp(1.5rem, 4vw, 2rem);
        }

        .contact-item {
            text-align: center;
            padding: clamp(0.8rem, 2vw, 1rem);
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            transition: var(--transition);
        }

        .contact-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }

        .contact-item h3 {
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            margin-bottom: 1rem;
        }

        .contact-item p {
            font-size: clamp(0.95rem, 2.5vw, 1rem);
            line-height: 1.4;
        }

        .contact-item a {
            color: white;
            text-decoration: none;
            transition: var(--transition);
        }

        .contact-item a:hover {
            text-decoration: underline;
        }

        /* Footer - æ”¹å–„é è…³ */
        footer {
            background: #333;
            color: white;
            text-align: center;
            padding: clamp(1.5rem, 4vw, 2rem) 0;
        }

        footer p {
            font-size: clamp(0.9rem, 2.5vw, 1rem);
            line-height: 1.5;
            margin-bottom: 0.5rem;
        }

        /* æ«»èŠ±ç‰¹æ•ˆ - å„ªåŒ–æ•ˆèƒ½ */
        .sakura-particle {
            position: fixed;
            pointer-events: none;
            z-index: 1000;
            color: #ff9ac7;
            font-size: clamp(1rem, 3vw, 1.5rem);
            animation: fall 5s linear infinite;
            will-change: transform;
        }

        @keyframes fall {
            from {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* æ‰‹æ©Ÿç‰ˆå„ªåŒ– */
        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
                z-index: 101;
            }

            nav {
                display: none;
                width: 100%;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: linear-gradient(135deg, var(--secondary-color) 0%, var(--primary-color) 100%);
                box-shadow: 0 4px 20px rgba(0,0,0,0.2);
                z-index: 99;
                border-radius: 0 0 15px 15px;
            }

            nav.active {
                display: block !important;
                animation: slideDown 0.3s ease;
            }

            @keyframes slideDown {
                from {
                    opacity: 0;
                    transform: translateY(-10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            nav ul {
                flex-direction: column;
                gap: 0;
                padding: 1rem 0;
            }

            nav li {
                border-bottom: 1px solid rgba(255,255,255,0.1);
            }

            nav li:last-child {
                border-bottom: none;
            }

            nav a {
                display: block;
                padding: 1rem 2rem;
                border-radius: 0;
            }

            .header-content {
                flex-wrap: nowrap;
                position: relative;
            }

            .logo {
                gap: 0.5rem;
            }

            .logo-img {
                height: 40px;
                width: 40px;
            }

            .hero {
                min-height: 60vh;
                padding: 1rem;
            }

            .original-price {
                display: block;
                margin-bottom: 0.5rem;
                margin-right: 0;
            }
        }

        /* å¹³æ¿ç‰ˆå„ªåŒ– */
        @media (min-width: 769px) and (max-width: 1024px) {
            .itinerary {
                grid-template-columns: repeat(2, 1fr);
            }

            .activity-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .contact-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* å¤§è¢å¹•å„ªåŒ– */
        @media (min-width: 1200px) {
            .container {
                max-width: 1400px;
            }

            .itinerary {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* è§¸æ§å„ªåŒ– */
        @media (hover: none) and (pointer: coarse) {
            .activity-card:hover,
            .day-card:hover,
            .tour-package:hover {
                transform: none;
            }

            .activity-card:active {
                transform: scale(0.98);
            }

            .cta-button:hover,
            .submit-btn:hover {
                transform: none;
            }

            .cta-button:active,
            .submit-btn:active {
                transform: scale(0.98);
            }
        }

        /* é«˜å°æ¯”åº¦æ”¯æ´ */
        @media (prefers-contrast: high) {
            .hero {
                background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8));
            }

            .day-card,
            .activity-card,
            .tour-package {
                border: 2px solid #333;
            }
        }

        /* æ¸›å°‘å‹•ç•«åå¥½æ”¯æ´ */
        @media (prefers-reduced-motion: reduce) {
            .hero::before,
            .sakura-particle,
            .fadeInUp,
            .pulse,
            .spin,
            .float {
                animation: none;
            }

            .activity-card:hover,
            .day-card:hover,
            .tour-package:hover,
            .cta-button:hover,
            .submit-btn:hover {
                transform: none;
            }
        }

        /* åˆ—å°æ¨£å¼ */
        @media print {
            .hero,
            .sakura-particle,
            nav,
            .menu-toggle,
            .loading-spinner {
                display: none;
            }

            body {
                background: white;
                color: black;
            }

            .tour-package,
            .booking-form,
            .contact-info {
                background: white;
                box-shadow: none;
                border: 1px solid #ccc;
            }
        }
    </style>
</head>
<body>
    <!-- è¼‰å…¥å‹•ç•« -->
    <div class="loading-spinner" id="loadingSpinner">
        <div class="spinner">ğŸŒ¸</div>
    </div>

    <header role="banner">
        <div class="container">
            <div class="header-content">
                <div>
                    <div class="logo">
                        <div class="logo-img" role="img" aria-label="HanaGo Travel Logo">ğŸŒ¸</div>
                        <div>
                            <div class="logo-text">HanaGo Travel èŠ±èªæ—…éŠ</div>
                            <div class="slogan">Bloom Your Journey é–‹å•Ÿæ‚¨çš„æ—…ç¨‹ä¹‹èŠ±</div>
                        </div>
                    </div>
                </div>
                <button class="menu-toggle" onclick="toggleMenu()" 
                        aria-label="åˆ‡æ›é¸å–®" aria-expanded="false" aria-controls="nav">â˜°</button>
                <nav id="nav" role="navigation" aria-label="ä¸»è¦å°èˆª">
                    <ul>
                        <li><a href="#home">é¦–é </a></li>
                        <li><a href="#tour">è¡Œç¨‹</a></li>
                        <li><a href="#activities">é«”é©—æ´»å‹•</a></li>
                        <li><a href="#booking">é ç´„</a></li>
                        <li><a href="#contact">è¯çµ¡æˆ‘å€‘</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <section id="home" class="hero" role="banner">
            <div class="hero-content">
                <h1>æ—¥æœ¬æ«»èŠ±ä¹‹æ—…</h1>
                <p>èˆ‡æˆ‘å€‘ä¸€èµ·é–‹å•Ÿå¤¢å¹»çš„æ—¥æœ¬ä¹‹æ—…<br>æ„Ÿå—æ«»èŠ±ç››é–‹çš„æµªæ¼«</p>
                <a href="#booking" class="cta-button" role="button">ç«‹å³é ç´„ âœˆï¸</a>
            </div>
        </section>

        <section id="tour" class="container" aria-labelledby="tour-heading">
            <h2 id="tour-heading" class="section-title">ç²¾é¸è¡Œç¨‹</h2>
            
            <article class="tour-package">
                <header class="package-header">
                    <h3 class="package-title">ğŸŒ¸ 7å¤©æ—¥æœ¬æ«»èŠ±ä¹‹æ—… ğŸŒ¸</h3>
                    <div class="package-price">
                        <span class="original-price">NT$38,000</span>
                        <span>æ—©é³¥å„ªæƒ  NT$28,000</span>
                        <span class="discount-badge">çœ $10,000</span>
                    </div>
                </header>

                <div class="itinerary" role="list" aria-label="ä¸ƒå¤©è¡Œç¨‹å®‰æ’">
                    <div class="day-card" role="listitem">
                        <div class="day-number">ç¬¬1å¤©</div>
                        <div class="day-theme">æŠµé”æ±äº¬</div>
                        <div class="day-description">æ©Ÿå ´æ¥é€ï¼Œå…¥ä½é…’åº—ï¼Œæ­¡è¿æ™šé¤</div>
                    </div>
                    <div class="day-card" role="listitem">
                        <div class="day-number">ç¬¬2å¤©</div>
                        <div class="day-theme">æ±äº¬æ¢ç´¢</div>
                        <div class="day-description">æ·ºè‰å¯ºã€æ±äº¬æ™´ç©ºå¡”ã€æ˜æ²»ç¥å®®</div>
                    </div>
                    <div class="day-card" role="listitem">
                        <div class="day-number">ç¬¬3å¤©</div>
                        <div class="day-theme">æ—¥å…‰ä¸€æ—¥éŠ</div>
                        <div class="day-description">åƒè§€æ±ç…§å®®ã€ç€¨æˆ¶æ©‹</div>
                    </div>
                    <div class="day-card" role="listitem">
                        <div class="day-number">ç¬¬4å¤©</div>
                        <div class="day-theme">å‰å¾€äº¬éƒ½</div>
                        <div class="day-description">æ–°å¹¹ç·šè‡³äº¬éƒ½ï¼Œåƒè§€ä¼è¦‹ç¨»è·å¤§ç¤¾</div>
                    </div>
                    <div class="day-card" role="listitem">
                        <div class="day-number">ç¬¬5å¤©</div>
                        <div class="day-theme">äº¬éƒ½å¯ºå»Ÿèˆ‡èŠ±åœ’</div>
                        <div class="day-description">é‡‘é–£å¯ºã€åµå±±ç«¹æ—ã€å¤©é¾å¯º</div>
                    </div>
                    <div class="day-card" role="listitem">
                        <div class="day-number">ç¬¬6å¤©</div>
                        <div class="day-theme">äº¬éƒ½èˆ‡å¥ˆè‰¯</div>
                        <div class="day-description">æ¸…æ°´å¯ºï¼Œå¥ˆè‰¯æ±å¤§å¯ºèˆ‡é¹¿å…¬åœ’</div>
                    </div>
                    <div class="day-card" role="listitem">
                        <div class="day-number">ç¬¬7å¤©</div>
                        <div class="day-theme">é›¢é–‹</div>
                        <div class="day-description">æœ€å¾Œè³¼ç‰©ï¼Œè½‰æ©Ÿå ´</div>
                    </div>
                </div>
            </article>
        </section>

        <section id="activities" class="interactive-section" aria-labelledby="activities-heading">
            <div class="container">
                <h2 id="activities-heading" class="section-title">ç‰¹è‰²é«”é©—æ´»å‹•</h2>
                <div class="activity-grid" role="list" aria-label="é«”é©—æ´»å‹•é¸é …">
                    <div class="activity-card" onclick="showActivity('matcha')" 
                         onkeydown="handleCardKeyDown(event, 'matcha')" 
                         tabindex="0" role="button" aria-describedby="matcha-desc">
                        <div class="activity-icon" aria-hidden="true">ğŸµ</div>
                        <h3>æŠ¹èŒ¶DIY</h3>
                        <p id="matcha-desc">ç¾å ´å ±åï¼Œæ¯å ´15äºº<br>è‡ªè£½æŠ¹èŒ¶å¸¶å›å®¶</p>
                    </div>
                    <div class="activity-card" onclick="showActivity('yukata')" 
                         onkeydown="handleCardKeyDown(event, 'yukata')" 
                         tabindex="0" role="button" aria-describedby="yukata-desc">
                        <div class="activity-icon" aria-hidden="true">ğŸ‘˜</div>
                        <h3>æµ´è¡£è©¦ç©¿</h3>
                        <p id="yukata-desc">è¿½è¹¤IG+æ‹ç…§ä¸Šå‚³<br>å³æ‹å³å°Polaroid</p>
                    </div>
                    <div class="activity-card" onclick="showActivity('gacha')" 
                         onkeydown="handleCardKeyDown(event, 'gacha')" 
                         tabindex="0" role="button" aria-describedby="gacha-desc">
                        <div class="activity-icon" aria-hidden="true">ğŸ°</div>
                        <h3>æ‰­è›‹æŠ½ç</h3>
                        <p id="gacha-desc">å®Œæˆé—–é—œé›†ç« <br>æœ‰æ©ŸæœƒæŠ½ä¸­å…è²»æ©Ÿç¥¨</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="booking" class="container" aria-labelledby="booking-heading">
            <h2 id="booking-heading" class="section-title">ç«‹å³é ç´„</h2>
            
            <div id="messages" aria-live="polite">
                <div class="error-message" id="errorMessage" role="alert"></div>
                <div class="success-message" id="successMessage" role="status"></div>
            </div>
            
            <div class="booking-form">
                <form id="bookingForm" novalidate>
                    <div class="form-group">
                        <label for="name">å§“å <span aria-label="å¿…å¡«">*</span></label>
                        <input type="text" id="name" name="name" required 
                               aria-describedby="name-error" autocomplete="name">
                        <div class="field-error" id="name-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">é›»è©± <span aria-label="å¿…å¡«">*</span></label>
                        <input type="tel" id="phone" name="phone" required 
                               aria-describedby="phone-error" autocomplete="tel">
                        <div class="field-error" id="phone-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email <span aria-label="å¿…å¡«">*</span></label>
                        <input type="email" id="email" name="email" required 
                               aria-describedby="email-error" autocomplete="email">
                        <div class="field-error" id="email-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="people">äººæ•¸</label>
                        <select id="people" name="people" aria-describedby="people-help">
                            <option value="1">1äºº</option>
                            <option value="2" selected>2äºº</option>
                            <option value="3">3äºº</option>
                            <option value="4">4äºº</option>
                            <option value="5+">5äººä»¥ä¸Š</option>
                        </select>
                        <div id="people-help" class="form-help">é¸æ“‡åƒèˆ‡äººæ•¸</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="date">å¸Œæœ›å‡ºç™¼æ—¥æœŸ</label>
                        <input type="date" id="date" name="date" aria-describedby="date-help">
                        <div id="date-help" class="form-help">å»ºè­°æå‰30å¤©é ç´„</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="message">ç‰¹æ®Šéœ€æ±‚</label>
                        <textarea id="message" name="message" rows="4" 
                                  placeholder="è«‹å‘Šè¨´æˆ‘å€‘æ‚¨çš„ç‰¹æ®Šéœ€æ±‚æˆ–å•é¡Œ..."
                                  aria-describedby="message-help"></textarea>
                        <div id="message-help" class="form-help">å¦‚ï¼šç´ é£Ÿã€è¡Œå‹•ä¸ä¾¿ã€ç”Ÿæ—¥æ…¶ç¥ç­‰</div>
                    </div>
                    
                    <button type="submit" class="submit-btn" id="submitBtn">
                        <span class="btn-text">é€å‡ºé ç´„ç”³è«‹ ğŸŒ¸</span>
                    </button>
                </form>
            </div>
        </section>

        <section id="contact" class="contact-info" aria-labelledby="contact-heading">
            <div class="container">
                <h2 id="contact-heading" class="section-title" style="color: white;">è¯çµ¡è³‡è¨Š</h2>
                <div class="contact-grid" role="list" aria-label="è¯çµ¡æ–¹å¼">
                    <div class="contact-item" role="listitem">
                        <h3>ğŸ“ ç·Šæ€¥ç†±ç·š</h3>
                        <p>
                            <a href="tel:+886952520520" aria-label="æ’¥æ‰“ç·Šæ€¥ç†±ç·š">+886 952-520-520</a><br>
                            24å°æ™‚å¾…å‘½æœå‹™
                        </p>
                    </div>
                    <div class="contact-item" role="listitem">
                        <h3>ğŸ‡¯ğŸ‡µ æ—¥æœ¬æœå‹™ä¸­å¿ƒ</h3>
                        <p>
                            <a href="tel:+81313145920" aria-label="æ’¥æ‰“æ—¥æœ¬æœå‹™ä¸­å¿ƒ">(03) 1314-5920</a>
                        </p>
                    </div>
                    <div class="contact-item" role="listitem">
                        <h3>ğŸ¢ å°åŒ—ç¸½å…¬å¸</h3>
                        <p>
                            <a href="tel:+886233445920" aria-label="æ’¥æ‰“å°åŒ—ç¸½å…¬å¸">(02) 3344-5920</a>
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer role="contentinfo">
        <div class="container">
            <p>&copy; 2025 HanaGo Travel èŠ±èªæ—…éŠ. All rights reserved.</p>
            <p>Founded in Taipei, 2023 | 18 staff members dedicated to your journey</p>
        </div>
    </footer>

    <script>
        // å…¨åŸŸè®Šæ•¸å’Œé…ç½®
        const CONFIG = {
            sakuraInterval: {
                mobile: 4000,
                tablet: 3000,
                desktop: 2000
            },
            animations: {
                reducedMotion: window.matchMedia('(prefers-reduced-motion: reduce)').matches
            }
        };

        // å·¥å…·å‡½æ•¸
        const Utils = {
            // é˜²æŠ–å‡½æ•¸
            debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            },

            // ç¯€æµå‡½æ•¸
            throttle(func, limit) {
                let inThrottle;
                return function() {
                    const args = arguments;
                    const context = this;
                    if (!inThrottle) {
                        func.apply(context, args);
                        inThrottle = true;
                        setTimeout(() => inThrottle = false, limit);
                    }
                }
            },

            // è¼¸å…¥æ¸…ç†
            sanitizeInput(input) {
                return input.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '')
                           .replace(/[<>]/g, '')
                           .trim();
            },

            // é¡¯ç¤ºè¨Šæ¯
            showMessage(message, type = 'success') {
                const messageEl = document.getElementById(type === 'success' ? 'successMessage' : 'errorMessage');
                const otherMessageEl = document.getElementById(type === 'success' ? 'errorMessage' : 'successMessage');
                
                // éš±è—å…¶ä»–è¨Šæ¯
                otherMessageEl.style.display = 'none';
                
                messageEl.textContent = message;
                messageEl.style.display = 'block';
                
                // 3ç§’å¾Œè‡ªå‹•éš±è—
                setTimeout(() => {
                    messageEl.style.display = 'none';
                }, 3000);
            }
        };

        // å°èˆªåŠŸèƒ½
        const Navigation = {
            init() {
                this.setupMenuToggle();
                this.setupSmoothScroll();
                this.setupKeyboardNavigation();
                this.setupClickOutside();
            },

            setupMenuToggle() {
                const menuToggle = document.querySelector('.menu-toggle');
                const nav = document.getElementById('nav');
                
                if (menuToggle && nav) {
                    // ä½¿ç”¨äº‹ä»¶å§”æ´¾ç¢ºä¿äº‹ä»¶æ­£ç¢ºç¶å®š
                    menuToggle.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        this.toggleMenu();
                    });
                    
                    // é»æ“Šé¸å–®é …ç›®å¾Œè‡ªå‹•é—œé–‰é¸å–®ï¼ˆæ‰‹æ©Ÿç‰ˆï¼‰
                    document.querySelectorAll('nav a').forEach(link => {
                        link.addEventListener('click', (e) => {
                            if (window.innerWidth <= 768) {
                                setTimeout(() => this.closeMenu(), 100);
                            }
                        });
                    });
                }
            },

            setupClickOutside() {
                // é»æ“Šé¸å–®å¤–éƒ¨æ™‚é—œé–‰é¸å–®
                document.addEventListener('click', (e) => {
                    const nav = document.getElementById('nav');
                    const menuToggle = document.querySelector('.menu-toggle');
                    
                    if (nav && nav.classList.contains('active')) {
                        if (!nav.contains(e.target) && !menuToggle.contains(e.target)) {
                            this.closeMenu();
                        }
                    }
                });
            },

            toggleMenu() {
                const nav = document.getElementById('nav');
                const menuToggle = document.querySelector('.menu-toggle');
                
                if (!nav || !menuToggle) {
                    console.error('é¸å–®å…ƒç´ æœªæ‰¾åˆ°');
                    return;
                }
                
                const isActive = nav.classList.contains('active');
                
                if (isActive) {
                    this.closeMenu();
                } else {
                    this.openMenu();
                }
            },

            openMenu() {
                const nav = document.getElementById('nav');
                const menuToggle = document.querySelector('.menu-toggle');
                
                nav.classList.add('active');
                menuToggle.setAttribute('aria-expanded', 'true');
                menuToggle.innerHTML = 'âœ•'; // æ”¹è®Šåœ–ç¤ºç‚ºé—œé–‰
                
                // é˜²æ­¢èƒŒæ™¯æ»¾å‹•
                document.body.style.overflow = 'hidden';
            },

            closeMenu() {
                const nav = document.getElementById('nav');
                const menuToggle = document.querySelector('.menu-toggle');
                
                nav.classList.remove('active');
                menuToggle.setAttribute('aria-expanded', 'false');
                menuToggle.innerHTML = 'â˜°'; // æ”¹å›æ¼¢å ¡é¸å–®åœ–ç¤º
                
                // æ¢å¾©èƒŒæ™¯æ»¾å‹•
                document.body.style.overflow = '';
            },

            setupSmoothScroll() {
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const target = document.querySelector(this.getAttribute('href'));
                        if (target) {
                            target.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    });
                });
            },

            setupKeyboardNavigation() {
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        this.closeMenu();
                    }
                });
            }
        };

        // è¡¨å–®é©—è­‰èˆ‡è™•ç†
        const FormHandler = {
            init() {
                this.setupFormValidation();
                this.setupDateDefault();
            },

            setupFormValidation() {
                const form = document.getElementById('bookingForm');
                const inputs = form.querySelectorAll('input[required]');
                
                // å³æ™‚é©—è­‰
                inputs.forEach(input => {
                    input.addEventListener('blur', () => this.validateField(input));
                    input.addEventListener('input', () => this.clearFieldError(input));
                });

                // è¡¨å–®æäº¤
                form.addEventListener('submit', (e) => this.handleSubmit(e));
            },

            validateField(input) {
                const value = Utils.sanitizeInput(input.value);
                const fieldName = input.name;
                let isValid = true;
                let errorMessage = '';

                // æ¸…é™¤ä¹‹å‰çš„ç‹€æ…‹
                this.clearFieldError(input, false);

                if (!value && input.required) {
                    isValid = false;
                    errorMessage = 'æ­¤æ¬„ä½ç‚ºå¿…å¡«';
                } else if (value) {
                    switch (input.type) {
                        case 'email':
                            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                            if (!emailRegex.test(value)) {
                                isValid = false;
                                errorMessage = 'è«‹è¼¸å…¥æ­£ç¢ºçš„Emailæ ¼å¼';
                            }
                            break;
                        case 'tel':
                            const phoneRegex = /^[\+]?[\d\s\-\(\)]{8,15}$/;
                            if (!phoneRegex.test(value)) {
                                isValid = false;
                                errorMessage = 'è«‹è¼¸å…¥æ­£ç¢ºçš„é›»è©±è™Ÿç¢¼';
                            }
                            break;
                        case 'text':
                            if (fieldName === 'name' && value.length < 2) {
                                isValid = false;
                                errorMessage = 'å§“åè‡³å°‘éœ€è¦2å€‹å­—å…ƒ';
                            }
                            break;
                    }
                }

                this.setFieldState(input, isValid, errorMessage);
                return isValid;
            },

            setFieldState(input, isValid, errorMessage) {
                const errorEl = document.getElementById(`${input.name}-error`);
                
                input.classList.remove('error', 'success');
                
                if (!isValid) {
                    input.classList.add('error');
                    if (errorEl) {
                        errorEl.textContent = errorMessage;
                        errorEl.style.display = 'block';
                    }
                } else if (input.value.trim()) {
                    input.classList.add('success');
                }
            },

            clearFieldError(input, clearValue = true) {
                const errorEl = document.getElementById(`${input.name}-error`);
                
                input.classList.remove('error');
                if (errorEl) {
                    errorEl.style.display = 'none';
                }
                
                if (clearValue && input.value.trim()) {
                    input.classList.add('success');
                }
            },

            async handleSubmit(e) {
                e.preventDefault();
                
                const form = e.target;
                const submitBtn = document.getElementById('submitBtn');
                const btnText = submitBtn.querySelector('.btn-text');
                const originalText = btnText.textContent;
                
                // é©—è­‰æ‰€æœ‰å¿…å¡«æ¬„ä½
                const requiredInputs = form.querySelectorAll('input[required]');
                let isFormValid = true;
                
                requiredInputs.forEach(input => {
                    if (!this.validateField(input)) {
                        isFormValid = false;
                    }
                });

                if (!isFormValid) {
                    Utils.showMessage('è«‹ä¿®æ­£è¡¨å–®ä¸­çš„éŒ¯èª¤', 'error');
                    return;
                }

                try {
                    // é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹
                    this.setSubmitState(submitBtn, btnText, true);
                    
                    const formData = new FormData(form);
                    const data = Object.fromEntries(formData);
                    
                    // æ¸…ç†æ•¸æ“š
                    Object.keys(data).forEach(key => {
                        data[key] = Utils.sanitizeInput(data[key]);
                    });
                    
                    // æ¨¡æ“¬ API å‘¼å«
                    await this.simulateSubmission(data);
                    
                    // æˆåŠŸè™•ç†
                    Utils.showMessage(
                        `æ„Ÿè¬æ‚¨çš„é ç´„ç”³è«‹ï¼\n\né ç´„è³‡è¨Šï¼š\nå§“åï¼š${data.name}\né›»è©±ï¼š${data.phone}\näººæ•¸ï¼š${data.people}\n\næˆ‘å€‘å°‡åœ¨24å°æ™‚å…§èˆ‡æ‚¨è¯ç¹«ç¢ºèªè©³ç´°è¡Œç¨‹ã€‚\n\næ«»èŠ±å­£é™é‡æ—©é³¥å„ªæƒ è‡³6/30ï¼`, 
                        'success'
                    );
                    
                    form.reset();
                    this.clearAllFieldStates(form);
                    
                } catch (error) {
                    console.error('Form submission error:', error);
                    Utils.showMessage('é€å‡ºå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦æˆ–ç›´æ¥æ’¥æ‰“é›»è©±è¯ç¹«æˆ‘å€‘ã€‚', 'error');
                } finally {
                    this.setSubmitState(submitBtn, btnText, false, originalText);
                }
            },

            setSubmitState(btn, textEl, loading, originalText = '') {
                if (loading) {
                    btn.disabled = true;
                    textEl.textContent = 'é€å‡ºä¸­...';
                    btn.classList.add('loading');
                } else {
                    btn.disabled = false;
                    textEl.textContent = originalText;
                    btn.classList.remove('loading');
                }
            },

            clearAllFieldStates(form) {
                const inputs = form.querySelectorAll('input, select, textarea');
                inputs.forEach(input => {
                    input.classList.remove('error', 'success');
                    const errorEl = document.getElementById(`${input.name}-error`);
                    if (errorEl) {
                        errorEl.style.display = 'none';
                    }
                });
            },

            simulateSubmission(data) {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        // 90% æˆåŠŸç‡æ¨¡æ“¬
                        if (Math.random() > 0.1) {
                            resolve(data);
                        } else {
                            reject(new Error('Network error'));
                        }
                    }, 1500);
                });
            },

            setupDateDefault() {
                const dateInput = document.getElementById('date');
                if (dateInput) {
                    // è¨­å®šæœ€å°æ—¥æœŸç‚ºä»Šå¤©
                    const today = new Date().toISOString().split('T')[0];
                    dateInput.setAttribute('min', today);
                    
                    // é è¨­è¨­å®šç‚º30å¤©å¾Œ
                    const futureDate = new Date();
                    futureDate.setDate(futureDate.getDate() + 30);
                    dateInput.value = futureDate.toISOString().split('T')[0];
                }
            }
        };

        // æ´»å‹•å¡ç‰‡äº’å‹•
        const ActivityHandler = {
            activities: {
                'matcha': {
                    title: 'ğŸµ æŠ¹èŒ¶DIYé«”é©—',
                    description: 'ç¾å ´å ±åï¼Œæ¯å ´é™15äºº\nå°ˆæ¥­è€å¸«æŒ‡å°ï¼Œè‡ªè£½æŠ¹èŒ¶å¸¶å›å®¶\né«”é©—æ—¥æœ¬èŒ¶é“æ–‡åŒ–çš„ç²¾é«“\n\nè²»ç”¨ï¼šå·²åŒ…å«åœ¨è¡Œç¨‹ä¸­\næ™‚é–“ï¼šç´„90åˆ†é˜'
                },
                'yukata': {
                    title: 'ğŸ‘˜ æµ´è¡£è©¦ç©¿é«”é©—',
                    description: 'è¿½è¹¤æˆ‘å€‘çš„IGä¸¦æ‹ç…§ä¸Šå‚³\næä¾›å³æ‹å³å°Polaroid\næ„Ÿå—æ—¥æœ¬å‚³çµ±æœé£¾ä¹‹ç¾\n\nè²»ç”¨ï¼šå…è²»é«”é©—\næ™‚é–“ï¼šç´„60åˆ†é˜'
                },
                'gacha': {
                    title: 'ğŸ° å¹¸é‹æ‰­è›‹æŠ½ç',
                    description: 'å®Œæˆæ‰€æœ‰é—–é—œæ´»å‹•é›†æ»¿å°ç« \næœ‰æ©ŸæœƒæŠ½ä¸­å…è²»æ—¥æœ¬ä¾†å›æ©Ÿç¥¨\né‚„æœ‰æ›´å¤šç²¾ç¾æ—¥æœ¬å°ç‰©ç­‰ä½ ä¾†æŠ½\n\nåƒèˆ‡æ–¹å¼ï¼šå®ŒæˆæŒ‡å®šä»»å‹™\nçå“ï¼šæ©Ÿç¥¨ã€æº«æ³‰åˆ¸ã€ç´€å¿µå“'
                }
            },

            show(activityId) {
                const activity = this.activities[activityId];
                if (activity) {
                    // ä½¿ç”¨æ›´å¥½çš„å½ˆçª—é«”é©—
                    const confirmed = confirm(`${activity.title}\n\n${activity.description}\n\né»æ“Šç¢ºå®šäº†è§£æ›´å¤šè©³æƒ…ï¼Œæˆ–å–æ¶ˆé—œé–‰ã€‚`);
                    if (confirmed) {
                        // å¯ä»¥åœ¨é€™è£¡æ·»åŠ æ›´å¤šäº’å‹•ï¼Œå¦‚é–‹å•Ÿè©³ç´°é é¢
                        console.log(`User interested in ${activityId}`);
                    }
                }
            }
        };

        // æ«»èŠ±ç‰¹æ•ˆç®¡ç†
        const SakuraEffect = {
            interval: null,

            init() {
                if (!CONFIG.animations.reducedMotion) {
                    this.start();
                    this.setupResponsiveInterval();
                }
            },

            start() {
                this.interval = setInterval(() => this.createParticle(), this.getInterval());
            },

            stop() {
                if (this.interval) {
                    clearInterval(this.interval);
                    this.interval = null;
                }
            },

            restart() {
                this.stop();
                this.start();
            },

            createParticle() {
                // åœ¨å°è¢å¹•ä¸Šæ¸›å°‘æ«»èŠ±æ•¸é‡
                if (window.innerWidth < 768 && Math.random() > 0.5) return;
                
                const sakura = document.createElement('div');
                sakura.className = 'sakura-particle';
                sakura.innerHTML = Math.random() > 0.5 ? 'ğŸŒ¸' : 'ğŸŒº';
                sakura.style.left = Math.random() * 100 + 'vw';
                document.body.appendChild(sakura);

                // å„ªåŒ–è¨˜æ†¶é«”ä½¿ç”¨
                setTimeout(() => {
                    if (sakura.parentNode) {
                        sakura.parentNode.removeChild(sakura);
                    }
                }, 5000);
            },

            getInterval() {
                if (window.innerWidth < 768) return CONFIG.sakuraInterval.mobile;
                if (window.innerWidth < 1024) return CONFIG.sakuraInterval.tablet;
                return CONFIG.sakuraInterval.desktop;
            },

            setupResponsiveInterval() {
                window.addEventListener('resize', Utils.debounce(() => {
                    this.restart();
                }, 300));
            }
        };

        // æ»¾å‹•æ•ˆæœç®¡ç†
        const ScrollEffects = {
            init() {
                this.setupProgressBar();
                this.setupIntersectionObserver();
            },

            setupProgressBar() {
                const updateProgress = Utils.throttle(() => {
                    const scrolled = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;
                    document.documentElement.style.setProperty('--scroll-progress', `${Math.min(scrolled, 100)}%`);
                }, 16); // 60fps

                window.addEventListener('scroll', updateProgress);
            },

            setupIntersectionObserver() {
                const observerOptions = {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting && !CONFIG.animations.reducedMotion) {
                            entry.target.style.opacity = '1';
                            entry.target.style.transform = 'translateY(0)';
                            observer.unobserve(entry.target);
                        }
                    });
                }, observerOptions);

                // è§€å¯Ÿæ‰€æœ‰éœ€è¦å‹•ç•«çš„å…ƒç´ 
                document.querySelectorAll('.day-card, .activity-card, .tour-package').forEach(el => {
                    if (!CONFIG.animations.reducedMotion) {
                        el.style.opacity = '0';
                        el.style.transform = 'translateY(30px)';
                        el.style.transition = 'all 0.6s ease';
                    }
                    observer.observe(el);
                });
            }
        };

        // è¼‰å…¥ç®¡ç†
        const LoadingManager = {
            init() {
                this.showLoading();
                // æ¨¡æ“¬è¼‰å…¥æ™‚é–“
                setTimeout(() => {
                    this.hideLoading();
                }, 1000);
            },

            showLoading() {
                document.getElementById('loadingSpinner').classList.add('show');
            },

            hideLoading() {
                const spinner = document.getElementById('loadingSpinner');
                spinner.classList.remove('show');
                // è¼‰å…¥å®Œæˆå¾Œç§»é™¤å…ƒç´ ä»¥å„ªåŒ–æ•ˆèƒ½
                setTimeout(() => {
                    if (spinner.parentNode) {
                        spinner.parentNode.removeChild(spinner);
                    }
                }, 300);
            }
        };

        // ç¶²è·¯ç‹€æ…‹ç›£æ§
        const NetworkMonitor = {
            init() {
                window.addEventListener('online', () => {
                    Utils.showMessage('ç¶²è·¯é€£ç·šå·²æ¢å¾©', 'success');
                    console.log('ç¶²è·¯é€£ç·šå·²æ¢å¾©');
                });

                window.addEventListener('offline', () => {
                    Utils.showMessage('ç¶²è·¯é€£ç·šä¸­æ–·ï¼Œéƒ¨åˆ†åŠŸèƒ½å¯èƒ½å—é™', 'error');
                    console.log('ç¶²è·¯é€£ç·šä¸­æ–·');
                });
            }
        };

        // è§¸æ§å„ªåŒ–
        const TouchOptimization = {
            init() {
                if ('ontouchstart' in window) {
                    this.setupTouchFeedback();
                }
            },

            setupTouchFeedback() {
                document.querySelectorAll('.activity-card, .cta-button, .submit-btn').forEach(el => {
                    el.addEventListener('touchstart', function() {
                        this.style.opacity = '0.8';
                    });
                    
                    el.addEventListener('touchend', function() {
                        this.style.opacity = '1';
                    });
                });
            }
        };

        // å…¨åŸŸå‡½æ•¸ (ä¿æŒå‘ä¸‹ç›¸å®¹)
        function toggleMenu() {
            Navigation.toggleMenu();
        }

        // ç¢ºä¿é¸å–®åŠŸèƒ½åœ¨é é¢è¼‰å…¥æ™‚ç«‹å³å¯ç”¨
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeMenu);
        } else {
            initializeMenu();
        }

        function initializeMenu() {
            const menuToggle = document.querySelector('.menu-toggle');
            const nav = document.getElementById('nav');
            
            if (menuToggle && nav) {
                // ç›´æ¥ç¶å®šäº‹ä»¶ä½œç‚ºå‚™ç”¨æ–¹æ¡ˆ
                menuToggle.onclick = function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    const isActive = nav.classList.contains('active');
                    
                    if (isActive) {
                        nav.classList.remove('active');
                        this.setAttribute('aria-expanded', 'false');
                        this.innerHTML = 'â˜°';
                        document.body.style.overflow = '';
                    } else {
                        nav.classList.add('active');
                        this.setAttribute('aria-expanded', 'true');
                        this.innerHTML = 'âœ•';
                        document.body.style.overflow = 'hidden';
                    }
                };
                
                console.log('é¸å–®åŠŸèƒ½å·²åˆå§‹åŒ–');
            } else {
                console.error('é¸å–®å…ƒç´ æœªæ‰¾åˆ°', { menuToggle: !!menuToggle, nav: !!nav });
            }
        }

        function showActivity(activityId) {
            ActivityHandler.show(activityId);
        }

        function handleCardKeyDown(event, activityId) {
            if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault(); 
                ActivityHandler.show(activityId);
            }
        }

        // æ•ˆèƒ½ç›£æ§
        const PerformanceMonitor = {
            init() {
                if ('requestIdleCallback' in window) {
                    requestIdleCallback(() => {
                        console.log('HanaGo Travel website loaded successfully!');
                        this.logPerformanceMetrics();
                    });
                }
            },

            logPerformanceMetrics() {
                if ('performance' in window) {
                    const perfData = performance.getEntriesByType('navigation')[0];
                    console.log('Page Load Time:', perfData.loadEventEnd - perfData.loadEventStart, 'ms');
                    console.log('DOM Content Loaded:', perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart, 'ms');
                }
            }
        };

        // ä¸»è¦åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // åˆå§‹åŒ–æ‰€æœ‰æ¨¡çµ„
                LoadingManager.init();
                Navigation.init();
                FormHandler.init();
                ScrollEffects.init();
                SakuraEffect.init();
                NetworkMonitor.init();
                TouchOptimization.init();
                PerformanceMonitor.init();
                
                // åƒ¹æ ¼é–ƒçˆæ•ˆæœ
                if (!CONFIG.animations.reducedMotion) {
                    setInterval(() => {
                        const priceElement = document.querySelector('.package-price');
                        if (priceElement) {
                            priceElement.style.animation = 'none';
                            setTimeout(() => {
                                priceElement.style.animation = 'pulse 2s ease-in-out';
                            }, 10);
                        }
                    }, 8000);
                }

                console.log('ğŸŒ¸ HanaGo Travel ç¶²ç«™å·²æˆåŠŸè¼‰å…¥ï¼');
                
            } catch (error) {
                console.error('åˆå§‹åŒ–éŒ¯èª¤:', error);
                Utils.showMessage('ç¶²ç«™è¼‰å…¥æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹é‡æ–°æ•´ç†é é¢', 'error');
            }
        });

        // é é¢å¸è¼‰æ™‚æ¸…ç†
        window.addEventListener('beforeunload', function() {
            SakuraEffect.stop();
        });

        // éŒ¯èª¤è™•ç†
        window.addEventListener('error', function(event) {
            console.error('é é¢éŒ¯èª¤:', event.error);
        });

        // Service Worker è¨»å†Š (å¦‚æœéœ€è¦é›¢ç·šåŠŸèƒ½)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                // å¯ä»¥åœ¨é€™è£¡è¨»å†Š Service Worker
                console.log('Service Worker support detected');
            });
        }
    </script>
</body>
</html>